

# workers
`import "github.com/cognusion/go-jar/workers"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [Variables](#pkg-variables)
* [type Work](#Work)
* [type WorkError](#WorkError)
  * [func (w *WorkError) Error() string](#WorkError.Error)
* [type WorkerPool](#WorkerPool)
  * [func NewSimpleWorkerPool(WorkChan chan Work) *WorkerPool](#NewSimpleWorkerPool)
  * [func (p *WorkerPool) AddWork(work Work)](#WorkerPool.AddWork)
  * [func (p *WorkerPool) Work() int](#WorkerPool.Work)


#### <a name="pkg-files">Package files</a>
[work.go](https://github.com/cognusion/go-jar/tree/master/workers/work.go) [workerpool.go](https://github.com/cognusion/go-jar/tree/master/workers/workerpool.go)



## <a name="pkg-variables">Variables</a>
``` go
var (
    // DebugOut is a log.Logger for debug messages
    DebugOut = log.New(io.Discard, "[DEBUG] ", 0)
    // ErrorOut is a log.Logger for error messages
    ErrorOut = log.New(io.Discard, "", 0)
)
```



## <a name="Work">type</a> [Work](https://github.com/cognusion/go-jar/tree/master/workers/work.go?s=145:193#L7)
``` go
type Work interface {
    Work() any
    Return(any)
}
```
Work is an interface to allow the abstraction of Work and Return,
enabling generic Workers doing blind Work










## <a name="WorkError">type</a> [WorkError](https://github.com/cognusion/go-jar/tree/master/workers/work.go?s=263:305#L13)
``` go
type WorkError struct {
    Messages string
}

```
WorkError is sent to Work.Return() if the Work generates a panic










### <a name="WorkError.Error">func</a> (\*WorkError) [Error](https://github.com/cognusion/go-jar/tree/master/workers/work.go?s=307:341#L17)
``` go
func (w *WorkError) Error() string
```



## <a name="WorkerPool">type</a> [WorkerPool](https://github.com/cognusion/go-jar/tree/master/workers/workerpool.go?s=337:655#L18)
``` go
type WorkerPool struct {
    // WorkChan is where the work goes
    WorkChan chan Work
    // Stop permanently stops the pool after current work is done.
    // WorkChan is not closed, to prevent errant reads
    Stop func()

    Metrics metrics.Meter
    // contains filtered or unexported fields
}

```
WorkerPool is a simple mechanation to manage and accomplish Work.







### <a name="NewSimpleWorkerPool">func</a> [NewSimpleWorkerPool](https://github.com/cognusion/go-jar/tree/master/workers/workerpool.go?s=871:927#L33)
``` go
func NewSimpleWorkerPool(WorkChan chan Work) *WorkerPool
```
NewSimpleWorkerPool returns a functioning WorkerPool bound to WorkChan, that does not try keep Workers running. It is strongly recommended that
WorkChan be unbounded unless you demonstrably need to bound it.





### <a name="WorkerPool.AddWork">func</a> (\*WorkerPool) [AddWork](https://github.com/cognusion/go-jar/tree/master/workers/workerpool.go?s=1246:1285#L52)
``` go
func (p *WorkerPool) AddWork(work Work)
```
AddWork adds Work and updates metrics. Will panic if WorkChan is closed.




### <a name="WorkerPool.Work">func</a> (\*WorkerPool) [Work](https://github.com/cognusion/go-jar/tree/master/workers/workerpool.go?s=1387:1418#L58)
``` go
func (p *WorkerPool) Work() int
```
Work returns the quantity of Work in the work channel








- - -
Generated by [godoc2md](http://github.com/cognusion/godoc2md)
